@model IEnumerable<PlayPalMini.MVC.Models.ReviewView>

@{
    ViewBag.Title = "GetMyReviewsAsync";
}

<h2>Your reviews, @User.Identity.Name</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Title)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Comment)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Rating)
        </th>
        <th>
            Board Game
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Title)
        </td>
        <td>
            @{
                string truncate = item.Comment;
                if (truncate.Length > 50)
                {
                    truncate = truncate.Substring(0, 50) + "...";
                }
            }
            @Html.DisplayFor(modelItem => truncate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Rating)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.BoardGameName)
        </td>
        <td>
            <a href="@Url.Action("EditReviewAsync", "Review", new { id = item.Id })"
               style="background-color: #f2f2f2; color: #333; padding: 4px 8px; font-size: 14px; border: 1px solid #ccc; border-radius: 8px; cursor: pointer; text-decoration: none;"
               onmouseover="this.style.backgroundColor='#dcdcdc'" onmouseout="this.style.backgroundColor='#f2f2f2'">Edit review</a>
        </td>
        <td>
            <a href="@Url.Action("DeleteReviewAsync", "Review", new { id = item.Id })"
               style="background-color: #f2f2f2; color: #333; padding: 4px 8px; font-size: 14px; border: 1px solid #ccc; border-radius: 8px; cursor: pointer; text-decoration: none;"
               onmouseover="this.style.backgroundColor='#dcdcdc'" onmouseout="this.style.backgroundColor='#f2f2f2'">Delete review</a>
        </td>
        <td>
            <a href="@Url.Action("GetSpecificBoardGameAsync", "BoardGame", new { id = item.BoardGameId })"
               style="background-color: #f2f2f2; color: #333; padding: 4px 8px; font-size: 14px; border: 1px solid #ccc; border-radius: 8px; cursor: pointer; text-decoration: none;"
               onmouseover="this.style.backgroundColor='#dcdcdc'" onmouseout="this.style.backgroundColor='#f2f2f2'">Go to board game</a>
        </td>
    </tr>
}

</table>
